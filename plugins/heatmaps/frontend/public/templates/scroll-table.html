<div v-bind:class="[componentId]">
    <cly-section>
        <cly-datatable-n
            :force-loading="isLoading"
            :data-source="remoteTableDataSource"
            :export-query="getExportQuery"
            :persist-key="heatmapsScrollsPersistKey">
            <template v-slot="scope">
                <el-table-column min-width="400" sortable="custom" prop="name" :show-overflow-tooltip="true" :label="i18n('heatmaps.table.pages')" fixed="left">
                    <template slot-scope="scope">
                         {{scope.row.display || scope.row.view || scope.row._id}}
                    </template>
                </el-table-column>
                <el-table-column min-width="415" sortable="custom" prop="name" :show-overflow-tooltip="true" :label="i18n('heatmaps.avg-scroll-depth')">
                    <template v-slot:default="rowScope">
                        <div class="bu-is-flex bu-is-align-items-center">
                            <div class="bu-level bu-is-align-items-center bu-mr-2" style="width: 190px;">
                                <div class="text-medium" style="width: 100px;">
                                    <span>{{ rowScope.row.scrFormatted || rowScope.row.scr }} px</span>
                                </div>
                                <div style="width: 90px;">
                                    <span class="color-cool-gray-50">&nbsp;|</span>&nbsp;{{rowScope.row.scrCalc}}
                                </div>
                            </div>
                            <div style="width: 200px;">
                                <cly-progress-bar
                                    :height="8"
                                    class="bu-mr-6"
                                    :percentage="rowScope.row.scrCalcInt || 0"
                                    color="#017AFF"
                                    background-color="#ECECEC">
                                </cly-progress-bar>
                            </div>
                        </div>
                    </template>
                </el-table-column>
                <el-table-column min-width="175"  v-if="showActionMapColumn"  prop="actionLink">
                    <template slot-scope="scope">
                        <cly-more-options v-if="scope.row.useDropdown" icon="el-icon-right" :text="i18n('heatmaps.view-heatmap')">
                             <template slot="trigger">
                                <el-button 
                                size="small" 
                                type="default">
                                    {{i18n('heatmaps.view-heatmap')}}
                                    <i class="el-icon-arrow-right el-icon-right"></i>
                                </el-button>
                            </template>
                            <el-dropdown-item :key="idx" v-for="(item, idx) in domains">
                                <div @click="viewActionMapClick(scope.row.actionLink, scope.row._id, item.value, 'scroll')" class="bu-ml-1 ">{{item.label}}</div>
                            </el-dropdown-item>
                        </cly-more-options>
                        <div v-else>
                            <el-button 
                            size="small" 
                            @click="viewActionMapClick(scope.row.actionLink, scope.row._id, null, 'scroll')" 
                            type="default">
                                {{i18n('heatmaps.view-heatmap')}}
                                <i class="el-icon-arrow-right el-icon-right"></i>
                            </el-button>
                        </div>
                    </template>
                </el-table-column>
            </template>
        </cly-datatable-n>
    </cly-section>
</div>